---
import SectionComponent from "./SectionComponent.astro";
import ProjectCard from "./ProjectCard.astro";

import { getCollection, getEntry } from "astro:content";

const allProjects = await getCollection("projects");
import type { languageList } from "../i18n/ui";
import { useTranslations } from "../i18n/utils";

const currentLang = Astro.currentLocale || 'es'
const translateLabels = useTranslations(currentLang as keyof typeof languageList)
---

<SectionComponent id="projects" title={translateLabels('nav.projects')} icon={true}>
    {
        allProjects.map((project) => {
            const { slug, data, body } = project;
            const { title, description, img, technologies, github, vercel } = data;
           
            

            return <ProjectCard title={title} img={img} description={description} technologies={technologies} github={github} vercel={vercel} />;
        })
    }
</SectionComponent>
